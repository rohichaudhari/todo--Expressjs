<!DOCTYPE html>
<html>

<head>
    <title>Todo List</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        table,tr,td,th{
            border: 1px solid black;
        }
    </style>
</head>
<body class="bg-blue-700">
    <div class="flex justify-center">
    <div class="p-10 border-2 border-green">
    <div class="bg-gray-300 h-[400px] w-[900px] flex justify-center p-10">
        <div>
            <h2 class="text-4xl text-green-700 font-bold underline italic">Todo List</h2><br>
            <form action="/api/profile/" method="post">
                <label class="text-2xl text-green-700" for="firstName">FirstName:</label><br>
                <input class="w-96 h-10 rounded-lg" type="text" id="firstName" name="firstName"><br>
                <label class="text-2xl text-green-700"  for="lastName">lastName:</label><br>
                <input  class="w-96 h-10 rounded-lg"  type="text" id="lastName" name="lastName"><br>
                <label class="text-2xl text-green-700"  for="email">Email:</label><br>
                <input  class="w-96 h-10 rounded-lg"  type="text" id="email" name="email"><br><br>
                <button  class="w-96 h-10 rounded-lg bg-green-700 text-white"  type="submit">Add Profile</button>
            </form>
        </div>
    </div>

    <div >
    <table class=" w-[900px] bg-gray-300 text-center">
        <tr>
            <th>Id</th>
            <th>FirstName</th>
            <th>LastName</th>
            <th>Email</th>
            <th>Actions</th>
        </tr>

        <% for(let i=0 ;i < profile.length; i++) {%>
            <tr>
                <td>
                    <%= i + 1 %>
                </td>
                <td>
                    <%= profile[i].firstName %>
                </td>
                <td>
                    <%= profile[i].lastName %>
                </td>
                <td>
                    <%= profile[i].email %>
                </td>
                <td>
                   <div class="flex justify-evenly ">
                       <form action="/api/profile/<%= profile[i]._id %>/edit" method="get">
                           <button class="bg-green-700 text-white rounded-md w-20 p-1" type="submit">Edit</button>
                       </form>
                       
                       <form action="/api/profile/<%= profile[i]._id %>" method="post">
                           <input type="hidden" name="_method" value="DELETE">
                           <button class="bg-red-700 rounded-md p-1 text-white w-20" type="submit" onclick="return confirm('Are you sure you want to delete this profile?');">Delete</button>
                       </form>

                   </div>
                </td>
            </tr>
            <% } %>
    </table>
</div>
</div>
</div>
</body>
